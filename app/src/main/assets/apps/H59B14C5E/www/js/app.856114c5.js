(function(){var e={1161:function(e,t,n){"use strict";n.d(t,{i:function(){return o},w:function(){return s}});var r=n(1922);const s=e=>(0,r.f)({url:"/Api/User/UploadFile/uploadImg",...e}),o=e=>(0,r.q)({url:"/Api/Common/Home/getConfig",method:"GET",data:e})},3652:function(e,t,n){"use strict";n.d(t,{$h:function(){return A},Ax:function(){return a},IG:function(){return d},J$:function(){return l},J3:function(){return y},Jv:function(){return _},MC:function(){return p},Mj:function(){return D},RI:function(){return m},_U:function(){return b},_w:function(){return u},bG:function(){return i},dV:function(){return N},ib:function(){return h},k9:function(){return I},n1:function(){return R},pO:function(){return f},qb:function(){return g},rH:function(){return c},vX:function(){return E},x4:function(){return o},z2:function(){return s}});var r=n(1922);const s=e=>(0,r.q)({url:"/Api/User/Account/register",method:"POST",data:e}),o=e=>(0,r.q)({url:"/Api/User/Account/login",method:"POST",data:e}),i=e=>(0,r.q)({url:"/Api/User/Info/getUserInfo",method:"POST",data:e}),a=e=>(0,r.q)({url:"/Api/User/Account/editNickname",method:"POST",data:e}),u=e=>(0,r.q)({url:"/Api/User/PaymentType/add",method:"POST",data:e}),c=e=>(0,r.q)({url:"/Api/User/PaymentType/getBankInfo",method:"GET",data:e}),l=e=>(0,r.q)({url:"/Api/User/Account/resetPwd",method:"POST",data:e}),d=e=>(0,r.q)({url:"/Api/User/Account/resetSecPwd",method:"POST",data:e}),p=e=>(0,r.q)({url:"/Api/User/Account/setSecPwd",method:"POST",data:e}),h=e=>(0,r.q)({url:"/Api/User/RealNameAuth/add",method:"POST",data:e}),m=e=>(0,r.q)({url:"/Api/User/Change",method:"POST",data:e}),f=e=>(0,r.q)({url:"/Api/User/Change/getChangeType",method:"GET",data:e}),E=e=>(0,r.q)({url:"/Api/User/Info/getCreditInfo",method:"GET",data:e}),g=e=>(0,r.q)({url:"/Api/Common/CreditLevel/getCreditLevelConfig",method:"GET",data:e}),_=e=>(0,r.q)({url:"/Api/User/PaymentType",method:"GET",data:e}),y=e=>(0,r.q)({url:"/Api/User/Account/setAvatar",method:"POST",data:e}),b=e=>(0,r.q)({url:"/Api/User/Message/Message/index",method:"GET",data:e}),A=e=>(0,r.q)({url:"/Api/User/Message/Message/setRead",method:"POST",data:e}),I=e=>(0,r.q)({url:"/Api/User/Message/Message/getUnreadCount",method:"GET",data:e}),D=e=>(0,r.q)({url:"/Api/User/Message/Message/oneClickRead",method:"GET",data:e}),N=e=>(0,r.q)({url:"/Api/User/Device/myDeviceList",method:"GET",data:e}),R=e=>(0,r.q)({url:"/Api/User/Device/deleteDevice",method:"POST",data:e})},9851:function(e,t,n){"use strict";var r=n(8935),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{key:"root"}),n("IdentifyDialog"),n("van-number-keyboard",{attrs:{show:e.$root.showPassowordKeyboard},on:{blur:e.onBlur,input:e.onInput,delete:e.onDelete}},[n("van-password-input",{attrs:{slot:"title-left",value:e.globalPassword,focused:e.$root.showPassowordKeyboard},on:{focus:function(t){e.$root.showPassowordKeyboard=!0}},slot:"title-left"})],1),n("van-overlay",{attrs:{show:e.appScanPopupOverlay,"z-index":"5000"},on:{click:e.closeAppScanPopupOverlay}})],1)},o=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-dialog",{staticClass:"identify",attrs:{title:"身份认证","show-confirm-button":!1,"close-on-popstate":!1,"close-on-click-overlay":!0},model:{value:e.$root.globalIdentifyDialogVisibility,callback:function(t){e.$set(e.$root,"globalIdentifyDialogVisibility",t)},expression:"$root.globalIdentifyDialogVisibility"}},[n("div",{staticClass:"identify-bg"}),n("div",{staticClass:"tip"},[e._v("为保障您的资金安全，请实名认证")]),n("van-button",{staticClass:"primary block",attrs:{to:"/user_certify"}},[e._v(" 立即认证 ")])],1)},a=[],u=n(1001),c={},l=(0,u.Z)(c,i,a,!1,null,null,null),d=l.exports,p={components:{IdentifyDialog:d},data(){return{globalPassword:"",appScanPopupOverlay:!1}},created(){this.$root.app=this},methods:{onInput(e){this.globalPassword+=String(e),6===this.globalPassword.length&&(this.$root.$emit("root:global-password",this.globalPassword),this.globalPassword="",this.$root.showPassowordKeyboard=!1)},onBlur(){this.globalPassword="",this.$root.$emit("root:global-password",!1),this.$root.showPassowordKeyboard=!1},onDelete(){this.globalPassword.length&&(this.globalPassword=this.globalPassword.slice(0,this.globalPassword.length-1))},closeAppScanPopupOverlay(){this.$root.$emit("root:close-app-scan-overlay")}}},h=p,m=(0,u.Z)(h,s,o,!1,null,null,null),f=m.exports,E=n(2809),g={layout:()=>n.e(810).then(n.bind(n,6810)),home:()=>Promise.all([n.e(46),n.e(194)]).then(n.bind(n,9194)),transaction:()=>n.e(490).then(n.bind(n,2490)),orders:()=>Promise.all([n.e(46),n.e(698)]).then(n.bind(n,2698)),payments:()=>n.e(644).then(n.bind(n,644)),add_payment:()=>Promise.all([n.e(601),n.e(395)]).then(n.bind(n,2395)),sale:()=>n.e(467).then(n.bind(n,3467)),my_hang_orders:()=>Promise.all([n.e(46),n.e(503)]).then(n.bind(n,3698)),my_hang_order:()=>Promise.all([n.e(601),n.e(634)]).then(n.bind(n,3634)),buy:()=>n.e(353).then(n.bind(n,4616)),transaction_sale:()=>Promise.all([n.e(601),n.e(594)]).then(n.bind(n,6594)),transaction_buy:()=>Promise.all([n.e(601),n.e(360)]).then(n.bind(n,8360)),layout_auth:()=>n.e(19).then(n.bind(n,9019)),login:()=>n.e(571).then(n.bind(n,3571)),sign_in:()=>n.e(867).then(n.bind(n,6867)),user:()=>n.e(438).then(n.bind(n,1438)),user_bill:()=>n.e(243).then(n.bind(n,6243)),user_certify:()=>n.e(359).then(n.bind(n,4359)),user_credit:()=>n.e(358).then(n.bind(n,9358)),user_devices:()=>n.e(973).then(n.bind(n,973)),user_login_psw:()=>n.e(806).then(n.bind(n,1114)),user_nickname:()=>n.e(5).then(n.bind(n,2146)),user_pay_psw:()=>n.e(135).then(n.bind(n,7135)),user_report:()=>n.e(506).then(n.bind(n,3506)),user_us:()=>n.e(280).then(n.bind(n,7280)),alipays:()=>n.e(836).then(n.bind(n,1836)),wechats:()=>n.e(92).then(n.bind(n,1092)),banks:()=>n.e(457).then(n.bind(n,9457)),panic:()=>n.e(681).then(n.bind(n,8681)),helps:()=>n.e(331).then(n.bind(n,5331)),qr_login:()=>n.e(398).then(n.bind(n,3398)),messages:()=>n.e(537).then(n.bind(n,6537)),msg_detail:()=>n.e(158).then(n.bind(n,4158)),pay_order:()=>n.e(748).then(n.bind(n,4748))};r.Z.use(E.Z);const _=[{path:"",name:"layout",component:g.layout,children:[{path:"/",name:"EZPay",component:g.home,meta:{isHome:!0}},{path:"/transaction",name:"交易中心",component:g.transaction,meta:{identify:!0}},{path:"/orders",name:"我的订单",component:g.orders},{path:"/payments",name:"收付款管理",component:g.payments},{path:"/add_payment/:index?",name:"添加收付款信息",component:g.add_payment,meta:{identify:!0,checkSecPwd:!0}},{path:"/sale",name:"出售EzB",component:g.sale,meta:{identify:!0}},{path:"/my_hang_orders",name:"我的挂单",component:g.my_hang_orders},{path:"/buy/:id",name:"购买EzB",component:g.buy,meta:{identify:!0}},{path:"/my_hang_order/:id",name:"我的挂单",component:g.my_hang_order},{path:"/transaction_sale/:id",name:"我的卖单",component:g.transaction_sale},{path:"/transaction_buy/:id",name:"我的买单",component:g.transaction_buy},{path:"/user",name:"用户中心",component:g.user},{path:"/user_bill",name:"个人帐变",component:g.user_bill},{path:"/user_certify",name:"实名认证",component:g.user_certify},{path:"/user_credit",name:"信用等级",component:g.user_credit},{path:"/user_devices",name:"设备管理",component:g.user_devices},{path:"/user_login_psw",name:"修改登录密码",component:g.user_login_psw},{path:"/user_nickname",name:"修改昵称",component:g.user_nickname},{path:"/user_pay_psw",name:"修改资金密码",component:g.user_pay_psw},{path:"/user_report",name:"意见反馈",component:g.user_report},{path:"/panic",name:"异常交易行为及平台处理措施",component:g.panic},{path:"/user_us",name:"关于我们",component:g.user_us},{path:"/banks",name:"银行卡",component:g.banks},{path:"/wechats",name:"微信",component:g.wechats},{path:"/alipays",name:"支付宝",component:g.alipays},{path:"/messages",name:"消息通知",component:g.messages},{path:"/msg_detail",name:"消息通知",component:g.msg_detail},{path:"/helps",name:"帮助中心",component:g.helps},{path:"/qr_login",name:"绑定设备",component:g.qr_login,meta:{noAuth:!0}},{path:"/pay_order",name:"我的订单",component:g.pay_order,meta:{identify:!0,checkSecPwd:!0}}]},{path:"/layout_auth",name:"layout_auth",component:g.layout_auth,children:[{path:"",name:"login",component:g.login,meta:{noAuth:!0}},{path:"sign_in",name:"sign_in",component:g.sign_in,meta:{noAuth:!0}}]}],y=new E.Z({mode:"hash",base:"",routes:_});var b=y,A=n(4128),I=n(3271),D=n.n(I),N=n(6163),R=n(4782),v=n(5628);const C=(e,t)=>{let n=Date.now();return function r(...s){const o=this;return Date.now()-n>t&&(n=Date.now(),e.apply(this,s)),{refresh(){n=0,r.apply(o,s)}}}};n(8881);function T(e,t="class"){if("content"==t){if(e==v.hL.ALI)return"支付宝";if(e==v.hL.BANK)return"银行卡";if(e==v.hL.WE_CHAT)return"微信"}return e==v.hL.ALI?"ali":e==v.hL.BANK?"bank":e==v.hL.WE_CHAT?"wechat":void 0}function L(e,t="class"){if("content"==t){if(e==v.Ib.INTRANSACTION)return"已发起交易";if(e==v.Ib.HANGING)return"挂单中..."}return e==v.Ib.INTRANSACTION?"intransaction":e==v.Ib.HANGING?"hanging":void 0}function O(e,t="class"){if("content"==t){if(e==v.Us.ALLOW_SPLIT)return"可拆分";if(e==v.Us.NOTALOOW_SPLIT)return"不可拆分"}return e==v.Us.ALLOW_SPLIT?"split":e==v.Us.NOTALOOW_SPLIT?"insplit":void 0}function w(e,t="class",n=0){if("seller-content"==t){if(e==v.eD.HANGING)return"挂单中...";if(e==v.eD.BUYER_REQUEST)return"买家发起交易";if(e==v.eD.SELLER_CANCELED_DEAL)return"卖家取消交易";if(e==v.eD.WAITING_FOR_TRANSFER)return"等待买家转账";if(e==v.eD.BUYRER_CANCELD_DEAL)return"买家取消交易";if(e==v.eD.TIME_OVER)return"超时取消交易";if(e==v.eD.TRANSFERRED)return"买家已转账";if(e==v.eD.SELLER_DID_NOT_RECEIVE)return"卖家未收到款";if(e==v.eD.DISPUTING)return"争议订单";if(e==v.eD.CANCELED_BY_OFFICIAL)return"平台取消交易";if(e==v.eD.CONFIRMED_BY_OFFICIAL)return"平台确认交易";if(e==v.eD.DEAL)return"交易完成"}if("buyer-content"==t){if(e==v.eD.HANGING)return"挂单中...";if(e==v.eD.BUYER_REQUEST)return"请等待卖家确认";if(e==v.eD.SELLER_CANCELED_DEAL)return"卖家取消交易";if(e==v.eD.WAITING_FOR_TRANSFER)return"请买家转账";if(e==v.eD.BUYRER_CANCELD_DEAL)return"买家取消交易";if(e==v.eD.TIME_OVER)return"超时取消交易";if(e==v.eD.TRANSFERRED)return"买家已转账";if(e==v.eD.SELLER_DID_NOT_RECEIVE)return"卖家未收到款";if(e==v.eD.DISPUTING)return"争议订单";if(e==v.eD.CANCELED_BY_OFFICIAL)return"平台取消交易";if(e==v.eD.CONFIRMED_BY_OFFICIAL)return"平台确认交易";if(e==v.eD.DEAL)return"交易完成"}if("step"==t){if(0!=n){const t=v.g0[e];if(t>n&&1==n)return"已确认";if(t>n&&2==n)return"已转账"}if(e==v.eD.BUYER_REQUEST)return"等待确认";if(e==v.eD.SELLER_CANCELED_DEAL)return"交易取消";if(e==v.eD.WAITING_FOR_TRANSFER)return"等待转账";if(e==v.eD.BUYRER_CANCELD_DEAL)return"取消交易";if(e==v.eD.TIME_OVER)return"超时取消";if(e==v.eD.TRANSFERRED)return"等待转币";if(e==v.eD.SELLER_DID_NOT_RECEIVE)return"卖家未收到款";if(e==v.eD.DISPUTING)return"争议订单";if(e==v.eD.CANCELED_BY_OFFICIAL)return"平台取消交易";if(e==v.eD.CONFIRMED_BY_OFFICIAL)return"平台确认交易";if(e==v.eD.DEAL)return"确认转币"}if(0!=n){const t=v.g0[e];if(t>n&&1==n)return"confirmed";if(t>n&&2==n)return"tranferred"}return e==v.eD.HANGING?"hanging":e==v.eD.BUYER_REQUEST?"buyer-request":e==v.eD.WAITING_FOR_CONFIRM_DEAL?"waiting-for-confirm-deal":e==v.eD.CONFIRMED?"confirmed":e==v.eD.SELLER_CANCELED_DEAL?"seller-canceled-deal":e==v.eD.WAITING_FOR_TRANSFER?"waiting-for-transfer":e==v.eD.TRANSFERRED?"tranferred":e==v.eD.BUYRER_CANCELD_DEAL?"buyer-canceled-deal":e==v.eD.TIME_OVER?"time-over":e==v.eD.WAITING_TRANSFER?"waiting-transfer":e==v.eD.CONFIRM_TRANSFER?"confirm-transfer":e==v.eD.SELLER_DID_NOT_RECEIVE?"seller-did-not-receive":e==v.eD.DISPUTING?"disputing":e==v.eD.CANCELED_BY_OFFICIAL?"canceled-by-official":e==v.eD.CONFIRMED_BY_OFFICIAL?"confirmed-by-official":e==v.eD.DEAL?"deal":void 0}r.Z.filter("paymentMethod",T),r.Z.filter("hangOrderStatus",L),r.Z.filter("orderSplitStatus",O),r.Z.filter("transactingOrderStatus",w),r.Z.filter("dateFormat",N.vc),r.Z.filter("amountFormat",N.Dr),r.Z.filter("hide",((e,t)=>e&&e.length>0&&t?e.replace(/[^ ]/g,"*"):e));var S=n(2003),P=n.n(S),F=n(5332),U=n.n(F),B=n(311),k=n.n(B),$=n(6166),G=n.n($);const M="8kA8UquyAuqW3JFLGVP7nZpT5a2daBtm";function Y(e){return[`https://${e}.s3.ap-east-1.amazonaws.com/dc.png`,`https://storage.googleapis.com/${e}/dc.png`,`https://${e}.ks3-sgp.ksyun.com/dc.png`]}function q(e){const t=U().decrypt(e,k().enc.Utf8.parse(M),{mode:k().mode.ECB}),n=t.toString(k().enc.Utf8);return n}var V=null;function x(){V||(V=G().create({}))}function W(e=!1){x();const[t,n]=(D().get("BASE")||"").split("|"),r=(0,N.vc)(new Date,"YMDh");if(n&&!e){const e=Date.now();if(e-n<36e5)return Promise.resolve(t)}const s=P()(r+M).toString().substring(8,26),o=Y(s);let i=0;return new Promise((e=>{const t=()=>{if(i>=o.length)return console.error("can not get the api url"),void e(!1);V.get(o[i]).then((e=>e.data)).then((t=>{const n=q(t);return e(n),n})).then((e=>{D().set("BASE",`${e}|${Date.now()}`)})).catch((()=>{i+=1,t()}))};t()}))}function H(e){return x(),new Promise(((t,n)=>{let r=0;const s=()=>{if(r>=e.length)return n();const o=e[r];o&&V.get(o+(o.endsWith("/")?"":"/")+"Api/Common/Home/getConfig").then((e=>{200==e.status&&t({url:o,cfg:(e.data||{}).result})})).catch((()=>{r+=1,s()}))};s()}))}function j(e,t){return x(),new Promise(((n,r)=>{let s=0;const o=()=>{if(s>=e.length)return r();const i=e[s];i&&V.get(i+(i.endsWith("/")?"":"/")+t).then((e=>{200==e.status&&n({url:i})})).catch((()=>{s+=1,o()}))};o()}))}var Z=n(1922),K=n(3652),z=n(1161),J=n(6263);const Q=(e,{currentVersion:t,minVersion:n,packageAddress:r,updatePackageAddress:s})=>{try{if(window.plus){const r=Number(t.replace(/\./g,"")),o=Number(n.replace(/\./g,"")),i=Number(e.replace(/\./g,"")),a=plus.storage.getItem("downloadedCv"),u=Number(a?a.replace(/\./g,""):"0");if(console.log(`cv:${r} mv:${o} apv:${i} lcv:${u}`),u&&u<r)return l(!0),!0;if(u&&u===r)return plus.nativeUI.showWaiting("下载安装中..."),window.h5p.installWgt(plus.storage.getItem("wgtPackName"),(e=>c(e))),!0;function c(e){plus.nativeUI.closeWaiting(),e?plus.nativeUI.alert("更新包已安装请立即重启！",(()=>{plus.runtime.restart()}),"","重启"):plus.nativeUI.alert("更新包安装失败！",(()=>{plus.runtime.quit()}),"","确认")}function l(e){e&&plus.nativeUI.showWaiting("下载安装中..."),window.h5p.downWgt(s,(function(n,r){n?e?r((e=>c(e))):plus.storage.setItem("downloadedCv",t):plus.nativeUI.alert("更新包下载失败！",(()=>{e&&plus.runtime.quit()}),"","确认")}))}if(i<o)return plus.nativeUI.alert(`检测到有更新版本:${t}，请立即更新！`,(()=>{l(!0)}),"","立即更新"),!0;if(i<r){const e=plus.storage.getItem("currentVersion");if(e&&e==t)return;plus.nativeUI.confirm(`检测到有更新版本:${t}，是否更新应用？应用将在后台下载并在下次启动时完成更新。`,(e=>{0==e.index&&plus.storage.setItem("currentVersion",t),1==e.index&&l()}),{buttons:["取消","更新"]})}return!1}}catch(o){console.error("检测更新失败",o)}},X=sessionStorage.getItem("debug");if(X){const e=document.createElement("script");e.setAttribute("id","eruda-script"),e.type="text/javascript",e.src="js/eruda.js",e.onload=function(){window.eruda.init()},document.body.append(e)}let ee;r.Z.use(A.ZP).use(R.Z),r.Z.config.productionTip=!1,r.Z.prototype.$tls=N.ZP,r.Z.prototype.$st=D();const te=D().get("USER_INFO"),ne=D().get("TOKEN");ne&&te||(D().remove("USER_INFO"),D().remove("TOKEN")),b.beforeEach(((e,t,n)=>{ee?n():te&&ne?e.meta.noAuth?n("/"):n():e.meta.noAuth?n():n({path:"/layout_auth",replace:!0})})),window.h5p.hook((({schemaArguments:e,uuid:t,appid:n,system:s,version:o,model:i}={})=>{(0,J.YY)(),(0,Z.Ks)(ne),(0,J.gR)({uuid:t,system:s,version:o,model:i}),window.plus&&window.h5p.closeSplash(),W().then((t=>{let s=null;const o=t=>{t&&(s=JSON.parse(t),H(s.api_url).then((({url:t,cfg:o})=>{if(1==o.maintenance.status){const e=o.maintenance;return void new r.Z({render:e=>e(f),created(){this.$dialog.alert({title:"系统维护",message:e.content})}}).$mount("#app")}const i=Q(n,o.appVersion);i||((0,Z.O_)(t),ee||(ee=new r.Z({router:b,render:e=>e(f),data(){return{appVersion:o.appVersion,app:null,appid:n,schemaArguments:e,isH5Plus:!!window.plus,CDNurl:"",netDelay:1e5,topBarDisplay:!0,bottomBarDisplay:!1,topIncludes:[],topConfig:null,userInfo:te,config:{},balance:{},banks:[],globalIdentifyDialogVisibility:!1,title:"",showPassowordKeyboard:!1,payments:{bank:{type:"",typeName:"",list:[]},ali:{type:"",typeName:"",list:[]},wechat:{type:"",typeName:"",list:[]}},unreadMessages:0}},computed:{validPayments(){const e={};return Object.keys(this.payments).forEach((t=>{e[this.payments[t].type]=this.payments[t].list.length})),e},cdnUrl(){return this.CDNurl||this.config.image_cdn},banksIdMappingName(){const e={};return this.banks&&this.banks.length&&this.banks.forEach((t=>{e[t.bankId]=t.bankName})),e},version(){return this.isH5Plus?this.appid:this.appVersion.currentVersion}},created(){j(s.image_cdn,o.image).then((({url:e})=>{this.CDNurl=e})),this.$on("root:set-topbar",((e,t)=>{this.topIncludes=e,this.topConfig=t})),this.$on("root:set-layout",(({top:e,bottom:t}={})=>{N.ZP.isBoolean(e)&&(this.topBarDisplay=e),N.ZP.isBoolean(t)&&(this.bottomBarDisplay=t)})),this.$on("root:set-title",(e=>{this.title=e})),this.$on("root:close-identify-dialog",(()=>{this.globalIdentifyDialogVisibility=!1})),this.$on("root:open-global-password",(()=>{this.showPassowordKeyboard=!0})),ne&&this.updateUserInfo().then((e=>{this.schemaArguments&&this.processQrcodeResult(this.schemaArguments),this.isH5Plus&&window.h5p.on("arguments",(e=>{e!==this.schemaArguments&&this.processQrcodeResult(e)}))}))},methods:{openCustomerService(){window.document.getElementById("MKEFU-INVITE-BTN").click()},processQrcodeResult(e){if(!e)return this.$toast.fail("扫码失败");const[t,n]=e.split("?"),[r,s]=t.split("://");if("payOrder"===s){const[e,t]=n.split("&");return this.$router.push({path:"/pay_order",query:{orderNo:e.split("=")[1],amount:t.split("=")[1]}})}this.$dialog.alert({title:"扫描内容",message:`decode text:${e}`})},getHash(e=Math.random().toString().replace("0."),t=!0,n=2166136261){var r,s,o=n;for(r=0,s=e.length;r<s;r++)o^=e.charCodeAt(r),o+=(o<<1)+(o<<4)+(o<<7)+(o<<8)+(o<<24);return t?("0000000"+(o>>>0).toString(16)).substr(-8):o>>>0},async updateUserInfo(){const e=await this.fetchUserInfo();return this.loadConfig(),this.loadBanks(),this.updateUnReadCount().refresh(),e},async fetchUserInfo(){const e=await(0,K.bG)();return e.ok?(this.userInfo=e.data,this.$st.set("INITIAL_USER_INFO",e.data),e.ok):(this.$toast.fail(e.msg),void this.exitLogin())},parsePayments(e){const t=[4,2,1],n=[];return t.forEach((t=>{e>=t&&(n.push(t),e-=t)})),n},copySuccessful(){this.$toast.success("复制成功")},loadConfig(){(0,z.i)().then((({ok:e,msg:t,data:n})=>{e&&(this.config=n)}))},loadBanks(){(0,K.rH)().then((({ok:e,data:t,msg:n})=>{e?this.banks=t.list:this.$toast.fail(n)}))},loadPayments(){return this.payments={bank:{type:"",typeName:"",list:[]},ali:{type:"",typeName:"",list:[]},wechat:{type:"",typeName:"",list:[]}},(0,K.Jv)().then((({ok:e,data:t,msg:n})=>(e&&t.list.forEach((e=>{const t=(()=>e.type==v.hL.BANK?"bank":e.type==v.hL.ALI?"ali":e.type==v.hL.WE_CHAT?"wechat":void 0)();this.payments[t].type=e.type,this.payments[t].typeName=e.typeName,this.payments[t].list.push({...JSON.parse(e.info),id:e.id})})),{ok:e,data:t,msg:n})))},getServerTime(){return Date.now()+this.netDelay},getImageUrl(e){return e?this.cdnUrl+e:""},updateUnReadCount:C((function(){(0,K.k9)().then((({ok:e,data:t,msg:n})=>{e&&(this.isH5Plus&&window.plus.runtime.setBadgeNumber(t.total,{title:"EzPay 消息通知",content:`您有${t.total}笔订单消息，请注意查收！`}),this.unreadMessages=t.total)}))}),5e3),exitLogin(){(0,Z.Ks)(void 0),this.userInfo=null,this.$st.remove("INITIAL_USER_INFO"),this.$st.remove("TOKEN"),this.$router.replace("/layout_auth")}}}),(0,Z.wJ)(ee),b.beforeEach(((e,t,n)=>e.meta.checkSecPwd&&!1===ee.userInfo.secPasswordStatus?(ee.$dialog.alert({className:"common",message:"请设置资金密码",closeOnClickOverlay:!0,beforeClose(e,t){"confirm"===e&&ee.$router.push("/user_pay_psw"),t()}}),n(!1)):e.meta.identify&&!ee.userInfo.isRealNameAuth?(ee.globalIdentifyDialogVisibility=!0,n(!1)):!0===e.meta.noAuth&&ee.userInfo?n(!1):ee.userInfo||!ee.userInfo&&e.meta.noAuth?n():ee.userInfo||e.meta.noAuth?void n():n("/layout_auth"))),b.afterEach(((e,t)=>{ee.bottomBarDisplay=!1,ee.title=""})),ee.$mount("#app")))})))};o(t),setInterval((()=>W(!0).then((e=>o(e)))),24e5)}))}))},5628:function(e,t,n){"use strict";n.d(t,{B2:function(){return c},DF:function(){return i},Ib:function(){return s},Us:function(){return o},Z2:function(){return l},eD:function(){return a},g0:function(){return u},hL:function(){return r}});const r={ALI:2,BANK:1,WE_CHAT:4},s={INTRANSACTION:1,HANGING:2},o={ALLOW_SPLIT:1,NOTALOOW_SPLIT:0},i={BUYER_REQUEST:"WaitingSellerConfirm",SELLER_CANCELED_DEAL:"SellerCancelsPurchase",WAITING_FOR_TRANSFER:"WaitingBuyerPay",BUYRER_CANCELD_DEAL:"BuyerNotPay",TIME_OVER:"BuyerPaymentExceedsTimeLimit",TRANSFERRED:"BuyerConfirmsOrderHasBeenPaid",SELLER_DID_NOT_RECEIVE:"SellerHasNotReceivedPayment",DISPUTING:"BuyerAppeals",CANCELED_BY_OFFICIAL:"AdminCancelsOrder",CONFIRMED_BY_OFFICIAL:"AdminCompletesOrder",DEAL:"SellerCompletesOrder"},a={HANGING:1,BUYER_REQUEST:"WaitingSellerConfirm",SELLER_CANCELED_DEAL:"SellerCancelsPurchase",WAITING_FOR_TRANSFER:"WaitingBuyerPay",BUYRER_CANCELD_DEAL:"BuyerNotPay",TIME_OVER:"BuyerPaymentExceedsTimeLimit",TRANSFERRED:"BuyerConfirmsOrderHasBeenPaid",SELLER_DID_NOT_RECEIVE:"SellerHasNotReceivedPayment",DISPUTING:"BuyerAppeals",CANCELED_BY_OFFICIAL:"AdminCancelsOrder",CONFIRMED_BY_OFFICIAL:"AdminCompletesOrder",DEAL:"SellerCompletesOrder"},u={[a.HANGING]:0,[a.BUYER_REQUEST]:0,[a.SELLER_CANCELED_DEAL]:1,[a.WAITING_FOR_TRANSFER]:2,[a.BUYRER_CANCELD_DEAL]:2,[a.TIME_OVER]:2,[a.TRANSFERRED]:3,[a.SELLER_DID_NOT_RECEIVE]:3,[a.DISPUTING]:3,[a.CANCELED_BY_OFFICIAL]:3,[a.CONFIRMED_BY_OFFICIAL]:3,[a.DEAL]:3},c={[a.HANGING]:0,[a.BUYER_REQUEST]:1,[a.SELLER_CANCELED_DEAL]:1,[a.WAITING_FOR_TRANSFER]:2,[a.BUYRER_CANCELD_DEAL]:2,[a.TIME_OVER]:2,[a.TRANSFERRED]:3,[a.SELLER_DID_NOT_RECEIVE]:3,[a.DISPUTING]:3,[a.CANCELED_BY_OFFICIAL]:3,[a.CONFIRMED_BY_OFFICIAL]:3,[a.DEAL]:3},l={[a.HANGING]:1,[a.CONFIRMED_BY_OFFICIAL]:1,[a.DEAL]:1,[a.SELLER_CANCELED_DEAL]:0,[a.BUYRER_CANCELD_DEAL]:0,[a.SELLER_DID_NOT_RECEIVE]:0,[a.DISPUTING]:0,[a.CANCELED_BY_OFFICIAL]:0,[a.TIME_OVER]:0,[a.TRANSFERRED]:2,[a.BUYER_REQUEST]:2,[a.WAITING_FOR_TRANSFER]:2}},8881:function(){String.prototype.toNumber=function(){return Number(this)},Number.prototype.toNumber=function(){return Number(this)}},1922:function(e,t,n){"use strict";n.d(t,{Ks:function(){return r.Ks},O_:function(){return r.O_},f:function(){return r.f},q:function(){return r.q},wJ:function(){return r.wJ}});var r=n(6263)},6263:function(e,t,n){"use strict";n.d(t,{Ks:function(){return f},O_:function(){return h},YY:function(){return d},f:function(){return _},gR:function(){return E},q:function(){return g},wJ:function(){return m}});var r=n(7421),s=n.n(r),o=n(6166),i=n.n(o),a=n(6163),u=n(272),c=n.n(u);const l={http:null},d=()=>{l.http=i().create({timeout:2e4,baseURL:"https://ezpay-api-test.ubn-ele.com/",withCredentials:!0,headers:{"Content-Type":"application/x-www-form-urlencoded","device-model":"none",uuid:"none","operating-system":"none"},paramsSerializer(e){return s().stringify(e)},transformRequest:[function(e){return s().stringify(e)}],transformResponse:[function(e){return e}]}),l.http.interceptors.response.use((e=>{const{status:t,data:n}=e,{code:r,msg:s,result:o,systemDateTime:i,systemTimestamp:a}=p(n);return 401===r&&(l.http.vue.userInfo=null,f(void 0),l.http.vue.$st.remove("USER_INFO"),l.http.vue.$st.remove("TOKEN"),l.http.vue.$router.replace("/layout_auth")),500===r&&(s="请求错误"),{ok:200==r,status:t,data:o,code:r,msg:s,systemDateTime:i,systemTimestamp:a}}),(e=>{const t=(e||{}).response||{};(e||{}).message;let{code:n,msg:r,result:s,systemDateTime:o,systemTimestamp:i}=p(t.data||"");return 401===n&&(l.http.vue.userInfo=null,f(void 0),l.http.vue.$st.remove("USER_INFO"),l.http.vue.$st.remove("TOKEN"),l.http.vue.$router.replace("/layout_auth")),500===n&&(r="请求错误"),{ok:200==n,status:t.status,data:s,code:n,msg:r,systemDateTime:o,systemTimestamp:i}}))},p=e=>{try{const t=JSON.parse(e);if(t)return{...t}}catch(t){return console.error(t,e),{code:0,msg:"数据错误"}}},h=e=>l.http.defaults.baseURL=e,m=e=>l.http.__proto__.vue=e,f=e=>l.http.defaults.headers["Authorization"]=e,E=({uuid:e,system:t,version:n,model:r})=>{if(e)l.http.defaults.headers["device-model"]=r,l.http.defaults.headers["uuid"]=e,l.http.defaults.headers["operating-system"]=t+" "+n;else{const e=new(c()),{os:t,device:n}=e.parse(window.navigator.appVersion||window.navigator.userAgent);n&&(l.http.defaults.headers["device-model"]=`${n.brand} ${n.type} ${n.model}`),t&&(l.http.defaults.headers["operating-system"]=`${t.name} ${t.version}`)}},g=({url:e="/",method:t="get",data:n={},opts:r={}}={})=>{const s={url:e,method:t};switch(t.toUpperCase()){case"POST":case"PUT":case"PATCH":Object.assign(s,{data:n});break;default:Object.assign(s,{params:n});break}Object.assign(s,r);const o=Date.now();return l.http.request(s).then((e=>{if(e.systemDateTime||e.systemTimestamp){const t=1e3*e.systemTimestamp-o;t<l.http.vue.netDelay&&(l.http.vue.netDelay=t)}return e})).catch((e=>e))},_=e=>{const t={...e};if(Reflect.deleteProperty(t,"url"),window.plus)return new Promise(((n,r)=>{window.h5p.upload({url:l.http.defaults.baseURL+e.url,filePath:e.imgFile,fileKey:"imgFile",options:{...t,imgFile:void 0},headers:{Authorization:l.http.defaults.headers["Authorization"],"device-model":l.http.defaults.headers["device-model"],"operating-system":l.http.defaults.headers["operating-system"],uuid:l.http.defaults.headers["uuid"]},callback(e,t){if(e){let{code:e,msg:r,result:s}=p(t.responseText);n({ok:200==e,data:s,code:e,msg:r})}else n({ok:e,code:500,data:"",msg:"app 上传图片失败"})}})}));const n=new FormData;return a.ZP.isEmpty(t)||Object.entries(t).forEach((([e,t])=>n.append(e,t))),l.http({url:e.url,method:"POST",headers:{"Content-Type":"multipart/form-data;charset=UTF-8"},data:n,transformRequest:[e=>e]})}},6163:function(e,t,n){"use strict";n.d(t,{Dr:function(){return c},LU:function(){return d},_7:function(){return l},vc:function(){return u}});n(1703);const r=Object.create(null),s=/^(?:\[object )([A-z]+)(?:])$/;function o(e){let t=Object.prototype.toString.call(e).match(s);if(t&&2===t.length)return t[1];console.error(`[参数]:${e},匹配结果:${t}`)}function i(e,t=10){if(!r.isNumber(e))throw new Error("Fn:fixZero val not a Number type");if(e<t){const n=String(t).length-String(e).length;return"0".repeat(n)+e}return e}r.__=()=>{},r.type=e=>o(e),r.isElement=e=>-1!==o(e).indexOf("Element"),r.isArray=e=>"Array"===o(e),r.isNull=e=>"Null"===o(e),r.isUndefined=e=>"Undefined"===o(e),r.isBoolean=e=>"Boolean"===o(e),r.isString=e=>"String"===o(e),r.isNumber=e=>!isNaN(e)&&"Number"===o(e),r.isObject=e=>"Object"===o(e),r.isFunction=e=>"Function"===o(e),r.isEmpty=e=>!(!r.isUndefined(e)&&!r.isNull(e))||(!(!r.isArray(e)||0!==e.length)||(!(!r.isObject(e)||0!==Object.keys(e).length)||r.isString(e)&&""===e)),r.dateFix=e=>{if(r.isNumber(e))return e;if("Date"===r.type(e))return e;if(!r.isString(e))return console.error("传入时间字符串"),(new Date).toLocaleDateString();e.indexOf("T")>-1&&(e=e.replace("T"," ")),e.indexOf(".")>-1&&(e=e.split(".")[0]);let[t,n]=e.split(" ");return t=t.replace(/-/gm,"/"),n?`${t} ${n}`:t},r.processParams=(e,t)=>{const n={},s=(Array.isArray(t)?t:[t]).reduce(((e,t)=>({...e,[t]:1})),{});return Object.keys(e).forEach((t=>{let o=e[t];n[t]=(()=>(s["shake"]&&(o=""===o?void 0:o),s["float"]&&r.isNumber(o)?parseFloat(o).toFixed(2):o))()})),n};const a=e=>{const t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),s=e.getHours(),o=e.getMinutes(),i=e.getSeconds();return{years:t,months:n,days:r,hours:s,minutes:o,seconds:i}};function u(e,t=""){const n=r.dateFix(e),s=new Date(n);if(!t)return s;const{years:o,months:u,days:c,hours:l,minutes:d,seconds:p}=a(s),h={Y:o,M:i(u,10),D:i(c,10),h:i(l,10),m:i(d,10),s:i(p,10)};return t.replace(/[YMDhms]/g,(function(e){return h[e]}))}function c(e,{places:t,symbol:n,thousand:r,decimal:s}={}){e=e||0,t=isNaN(t=Math.abs(t))?2:t,n=void 0!==n?n:"",r=r||",",s=s||".";var o=e<0?"-":"",i=parseInt(e=Math.abs(+e||0).toFixed(t),10)+"",a=(a=i.length)>3?a%3:0;return n+o+(a?i.substr(0,a)+r:"")+i.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r)+(t?s+Math.abs(e-i).toFixed(t).slice(2):"")}const l=function(e){if(!(this instanceof l))return new l(e);this.time=new Date(r.dateFix(e||new Date)),this.parse=()=>{const{years:e,months:t,days:n,hours:r,minutes:s,seconds:o}=a(this.time);this.parseTime={years:e,months:t,days:n,hours:r,minutes:s,seconds:o}},this.year=e=>(this.parse(),this.time.setFullYear(r.isNumber(e)?this.parseTime.years+e:e),this),this.month=e=>(this.parse(),this.time.setMonth(r.isNumber(e)?this.parseTime.months-1+e:e),this),this.day=e=>(this.parse(),this.time.setDate(r.isNumber(e)?this.parseTime.days+e:e),this),this.hour=e=>(this.parse(),this.time.setHours(r.isNumber(e)?this.parseTime.hours+e:e),this),this.minute=e=>(this.parse(),this.time.setMinutes(r.isNumber(e)?this.parseTime.minutes+e:e),this),this.second=e=>(this.parse(),this.time.setSeconds(r.isNumber(e)?this.parseTime.seconds+e:e),this),this.format=(...e)=>u(this.time,...e)},d=e=>{e<0&&(e=-e);const t={"天":Math.floor(e/864e5),"时":Math.floor(e/36e5)%24,"分":Math.floor(e/6e4)%60,"秒":Math.floor(e/1e3)%60};return Object.entries(t).filter((e=>0!==e[1])).map((([e,t])=>`${t} ${e}`)).join(", ")};t["ZP"]=r},2480:function(){}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,s,o){if(!r){var i=1/0;for(l=0;l<e.length;l++){r=e[l][0],s=e[l][1],o=e[l][2];for(var a=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[u])}))?r.splice(u--,1):(a=!1,o<i&&(i=o));if(a){e.splice(l--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{5:"f7452335",19:"37bbbd0b",46:"26fba911",92:"4f9d6f1a",135:"63405f76",158:"70cecf10",194:"449a2dd6",243:"9d986e28",280:"a3bc839c",331:"0fc52c7b",353:"d3f4e641",358:"b73cb039",359:"fc38edb6",360:"319c29c4",395:"d07b5e90",398:"99951dfb",438:"9c3820fa",457:"60d4f519",467:"9e5c8761",490:"345607ec",503:"a3ceb2e1",506:"f3e8db20",537:"841eedc2",571:"6b481f4b",594:"38c45a97",601:"e4b45ddd",634:"3692379d",644:"39d19184",681:"a833b2b4",698:"5e3012c8",748:"007c9761",806:"cab7706e",810:"b8fd38ec",836:"6e897780",867:"fc3e02ae",973:"9859336f"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{5:"6f86aec4",19:"f8a3cd66",46:"d1255739",92:"55285f20",135:"2b15db1a",158:"3d7579c7",194:"caea0e1f",243:"d509ed1f",280:"b60d72ee",331:"748a4890",353:"3d077fbc",358:"250d89ee",359:"22e7ed85",360:"0782fd2d",395:"b8ad10de",398:"ec70395b",438:"98386e99",457:"2b93604f",467:"9489adcf",490:"5982e468",503:"20a0c4fd",506:"11b30caa",537:"8f6ee910",571:"81c86040",594:"cdade107",634:"69849d4c",644:"ba3b450d",681:"5e63c245",698:"d3db51ed",748:"5db66a97",806:"82084351",810:"83e5027e",836:"227d6329",867:"a2e42de5",973:"4fe5988c"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="ez_pay:";n.l=function(r,s,o,i){if(e[r])e[r].push(s);else{var a,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var d=c[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(u=!0,a=document.createElement("script"),a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[s];var p=function(t,n){a.onerror=a.onload=null,clearTimeout(h);var s=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),s&&s.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),u&&document.head.appendChild(a)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e=function(e,t,n,r){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var o=function(o){if(s.onerror=s.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=a,s.parentNode.removeChild(s),r(u)}};return s.onerror=s.onload=o,s.href=t,document.head.appendChild(s),s},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var s=n[r],o=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){s=i[r],o=s.getAttribute("data-href");if(o===e||o===t)return s}},r=function(r){return new Promise((function(s,o){var i=n.miniCssF(r),a=n.p+i;if(t(i,a))return s();e(r,a,s,o)}))},s={143:0};n.f.miniCss=function(e,t){var n={5:1,19:1,46:1,92:1,135:1,158:1,194:1,243:1,280:1,331:1,353:1,358:1,359:1,360:1,395:1,398:1,438:1,457:1,467:1,490:1,503:1,506:1,537:1,571:1,594:1,634:1,644:1,681:1,698:1,748:1,806:1,810:1,836:1,867:1,973:1};s[e]?t.push(s[e]):0!==s[e]&&n[e]&&t.push(s[e]=r(e).then((function(){s[e]=0}),(function(t){throw delete s[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,r){var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else if(46!=t){var o=new Promise((function(n,r){s=e[t]=[n,r]}));r.push(s[2]=o);var i=n.p+n.u(t),a=new Error,u=function(r){if(n.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,s[1](a)}};n.l(i,u,"chunk-"+t,t)}else e[t]=0},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,i=r[0],a=r[1],u=r[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(s in a)n.o(a,s)&&(n.m[s]=a[s]);if(u)var l=u(n)}for(t&&t(r);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(9851)}));r=n.O(r)})();
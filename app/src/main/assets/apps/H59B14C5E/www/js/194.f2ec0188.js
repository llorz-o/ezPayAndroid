"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[194],{9194:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page graybg page-home"},[a("div",{staticClass:"balanceBg"},[a("div",{staticClass:"balanceBox"},[a("div",{staticClass:"welcomeEl"},[t._v(" 欢迎 "),t.$root.userInfo.realName?a("span",{staticClass:"name"},[t._v(t._s(t.$root.userInfo.realName))]):a("span",{staticClass:"name",on:{click:function(e){return t.$router.push("/user_certify")}}},[t._v(" 请先实名 ")])]),a("div",{staticClass:"balanceEl"},[a("h3",{staticClass:"balanceLable"},[t._v("余额")]),a("div",{staticClass:"balance"},[a("span",{staticClass:"value"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.balance).toFixed(2))+" ")]),a("span",{staticClass:"unit"},[t._v(" EzB ")])])]),a("div",{staticClass:"walletAdderssEl"},[a("van-icon",{attrs:{name:"map-marked"}}),a("span",[t._v(t._s(t.$root.userInfo.walletAddress))]),a("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.$root.userInfo.walletAddress,expression:"$root.userInfo.walletAddress"}],staticClass:"copy copyBtn",on:{success:t.$root.copySuccessful}})],1)])]),a("div",{staticClass:"balanceDetail"},[a("van-grid",{attrs:{"column-num":3,border:!1}},[a("van-grid-item",{staticClass:"border_right_1px"},[a("div",{staticClass:"balanceEl"},[a("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.balance).toFixed(2))+" ")]),a("span",{staticClass:"unit"},[t._v(" EzB ")])]),a("div",{staticClass:"label"},[t._v("可售数量")])]),a("van-grid-item",{staticClass:"border_right_1px"},[a("div",{staticClass:"balanceEl"},[a("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.sumSellAmount).toFixed(2))+" ")]),a("span",{staticClass:"unit"},[t._v(" EzB ")])]),a("div",{staticClass:"label"},[t._v("卖单余额")])]),a("van-grid-item",{staticClass:"border_right_1px"},[a("div",{staticClass:"balanceEl"},[a("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.sumFrozenAmount).toFixed(2))+" ")]),a("span",{staticClass:"unit"},[t._v(" EzB ")])]),a("div",{staticClass:"label"},[t._v("交易中")])])],1),a("div",{staticClass:"btnsBox"},[a("van-button",{attrs:{color:"#F0535F",to:"/sale"}},[t._v("卖币")]),a("van-button",{attrs:{color:"#6F59FE",to:"/transaction",replace:""}},[t._v("买币")])],1)],1),a("div",{staticClass:"hangOrder border_top_1px"},[a("div",{staticClass:"title"},[a("span",[t._v("我的挂单")]),a("span",{on:{click:function(e){return t.$router.push("/my_hang_orders")}}},[t._v("更多")])]),t._l(t.hangOrders,(function(t,e){return a("HangOrderItem",{key:e,attrs:{dt:t}})}))],2),a("div",{staticClass:"tansactionOrder border_top_1px"},[a("div",{staticClass:"title"},[a("span",[t._v("交易记录")]),a("span",{on:{click:function(e){return t.$router.replace("/orders")}}},[t._v("更多")])]),t._l(t.orders,(function(t,e){return a("TransactionItem",{key:e,attrs:{dt:t}})}))],2)])},s=[],n=a(1380),i=a(4314),o={components:{HangOrderItem:i.K,TransactionItem:i.A},data(){return{hangOrders:[],orders:[]}},created(){this.$root.updateUnReadCount(),this.loadHangOrders(),this.loadOrders(),this.$root.$emit("root:set-topbar",["user-center","help","notices","customer-service"]),this.$root.$emit("root:set-layout",{bottom:!0})},methods:{loadHangOrders(){(0,n.$Z)({page:1,pageSize:3}).then((({ok:t,msg:e,data:a})=>{t?this.hangOrders=a.list:this.$toast.fail(e)}))},loadOrders(){(0,n.uF)({page:1,pageSize:3}).then((({ok:t,msg:e,data:a})=>{t?this.orders=a.list:this.$toast.fail(e)}))}}},d=o,l=a(1001),u=(0,l.Z)(d,r,s,!1,null,null,null),c=u.exports},1380:function(t,e,a){a.d(e,{$Z:function(){return d},$i:function(){return o},CI:function(){return v},Ej:function(){return f},Hn:function(){return u},N8:function(){return h},R9:function(){return y},T7:function(){return k},XW:function(){return O},_H:function(){return s},_d:function(){return C},an:function(){return m},cf:function(){return p},dF:function(){return c},fW:function(){return l},l$:function(){return g},uF:function(){return n},v1:function(){return i},vi:function(){return _},y6:function(){return b}});var r=a(1922);const s=t=>(0,r.q)({url:"/Api/Market/PendingOrder/marketPendingOrderList",method:"POST",data:t}),n=t=>(0,r.q)({url:"/Api/Market/Order/myOrderList",method:"GET",data:t}),i=t=>(0,r.q)({url:"/Api/Market/Sell/index",method:"POST",data:t}),o=t=>(0,r.q)({url:"/Api/Market/Sell/recycle",method:"POST",data:t}),d=t=>(0,r.q)({url:"Api/Market/PendingOrder/myPendingOrderList",method:"POST",data:t}),l=t=>(0,r.q)({url:"/Api/Market/Order/myOrderDetail",method:"GET",data:t}),u=t=>(0,r.q)({url:"/Api/Market/PendingOrder/marketPendingOrderDetail",method:"POST",data:t}),c=t=>(0,r.q)({url:"/Api/Market/Order/getCurrentOrderStatus",method:"GET",data:t}),p=t=>(0,r.q)({url:"/Api/Market/PendingOrder/myPendingOrderDetail",method:"GET",data:t}),m=t=>(0,r.q)({url:"/Api/Market/Order/buyerCreatesOrder",method:"POST",data:t}),_=t=>(0,r.q)({url:"/Api/Market/PendingOrder/getOrderListByPendingOrder",method:"GET",data:t}),v=t=>(0,r.q)({url:"/Api/Market/Order/sellerRefusesToCreateOrder",method:"POST",data:t}),h=t=>(0,r.q)({url:"/Api/Market/Order/sellerConfirmsToCreateOrder",method:"POST",data:t}),f=t=>(0,r.q)({url:"/Api/Market/Order/sellerHasNotReceivedPayment",method:"POST",data:t}),O=t=>(0,r.q)({url:"/Api/Market/Order/sellerCompletesOrder",method:"POST",data:t}),C=t=>(0,r.q)({url:"/Api/Market/Order/buyerCancelsOrder",method:"POST",data:t}),g=t=>(0,r.q)({url:"/Api/Market/Order/buyerConfirmsOrderHasBeenPaid",method:"POST",data:t}),y=t=>(0,r.q)({url:"/Api/Market/Order/buyerAppeals",method:"POST",data:t}),b=t=>(0,r.q)({url:"/Api/Market/Order/getCancelsOrderDailyCount",method:"GET",data:t}),k=t=>(0,r.q)({url:"/Api/User/TransferOrder/userDeposit",method:"POST",data:t})},4314:function(t,e,a){a.d(e,{K:function(){return l},A:function(){return v}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hang-order",on:{click:function(e){return t.$router.push("/my_hang_order/"+t.dt.pendingOrderId)}}},[a("div",{staticClass:"time"},[t._v(" 挂单时间 "+t._s(t._f("dateFormat")(t.dt.createTime,"M/D h:m:s"))+" ")]),a("div",{staticClass:"content"},[a("span",{staticClass:"payment-method"},t._l(t.payments,(function(t,e){return a("div",{key:e,staticClass:"item",class:"pay"+t})})),0),a("span",{staticClass:"order-type"},[t._v(t._s(t.dt.isSplit?"可拆分":"不可拆分"))]),a("span",{staticClass:"amount"},[t._v(" "+t._s(t._f("amountFormat")(t.dt.validAmount,{places:0}))+" EzB ")]),a("span",{staticClass:"order-status",class:t.stateClass},[t._v(" "+t._s(t.stateStr)+" ")]),a("van-icon",{attrs:{name:"arrow"}})],1)])},s=[],n={name:"hangOrderItem",props:{dt:{type:Object,default:()=>({createTime:(new Date).toLocaleDateString(),paymentType:7,isSplit:0,amount:"13076598",status:1,underwayOrder:1})}},computed:{stateClass(){return this.dt.underwayOrder>0?"underway":1===this.dt.status?"hanging":0===this.dt.status?"closed":void 0},stateStr(){return this.dt.underwayOrder>0?"已发起交易":1===this.dt.status?"挂单中...":0===this.dt.status?"取消挂单":void 0},payments(){return this.$root.parsePayments(this.dt.paymentType)}},methods:{}},i=n,o=a(1001),d=(0,o.Z)(i,r,s,!1,null,"566414c4",null),l=d.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"transaction",on:{click:function(e){return t.$router.push("/"+(t.isSale?"transaction_sale":"transaction_buy")+"/"+t.dt.orderId)}}},[a("span",{staticClass:"inout bg",class:t.isSale?"out":"in"},[t._v(" "+t._s(t.isSale?"卖":"买")+" ")]),a("span",{staticClass:"time"},[t._v(" "+t._s(t.ymd)+" "),a("br"),t._v(" "+t._s(t.hms)+" ")]),a("span",{staticClass:"amountEl"},[a("span",{staticClass:"amount",class:t.isSale?"out":"in"},[t._v(" "+t._s(t._f("amountFormat")(t.dt.amount))+" ")]),a("span",{staticClass:"unit"},[t._v(" EzB ")])]),a("span",{staticClass:"order-status",class:t._f("transactingOrderStatus")(t.dt.status)},[t._v(" "+t._s(t._f("transactingOrderStatus")(t.dt.status,"seller-content"))+" ")])])},c=[],p={name:"TransactionItem",props:{dt:{type:Object,default:()=>({orderType:1,time:(new Date).toLocaleDateString(),amount:"0",orderStatus:"WaitingSellerConfirm"})}},computed:{orderTime(){return this.$options.filters.dateFormat(this.dt.createTime,"Y/M/D h:m:s")},ymd(){return this.orderTime.slice(0,10)},hms(){return this.orderTime.slice(11)},isSale(){return this.dt.sellerId==this.$root.userInfo.userId}}},m=p,_=(0,o.Z)(m,u,c,!1,null,"7189fb62",null),v=_.exports}}]);
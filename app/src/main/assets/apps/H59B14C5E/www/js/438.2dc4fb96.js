"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[438],{1438:function(t,e,s){s.r(e),s.d(e,{default:function(){return v}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page page-user"},[s("van-cell-group",{attrs:{border:!1}},[s("van-cell",{staticClass:"userInfo",scopedSlots:t._u([{key:"title",fn:function(){return[s("div",{staticClass:"avatarBox"},[s("van-uploader",{attrs:{"max-count":"1","preview-image":!1,"after-read":t.afterRead,"result-type":"file"},nativeOn:{click:function(e){return function(e){return t.onClickUpload(e)}.apply(null,arguments)}}},[s("van-image",{attrs:{src:t.$root.getImageUrl(t.$root.userInfo.avatar),fit:"cover",round:""}},[s("div",{staticClass:"defaultAvatar size60",attrs:{slot:"error"},slot:"error"})])],1),s("div",{staticClass:"icon-camera"})],1)]},proxy:!0},{key:"right-icon",fn:function(){return[s("div",{staticClass:"creditStatus",class:{pass:t.$root.userInfo.isRealNameAuth}},[s("div",{staticClass:"icon-certificate"}),t._v(" "+t._s(t.$root.userInfo.isRealNameAuth?"已认证":"未认证")+" ")])]},proxy:!0}])},[s("div",{staticClass:"info"},[s("div",{staticClass:"username",on:{click:function(e){return t.$router.push("/user_nickname")}}},[t._v(" "+t._s(t.$root.userInfo.nickname)+" "),s("van-icon",{attrs:{name:"edit"}})],1),s("div",{staticClass:"walletAddr"},[s("span",{staticClass:"van-ellipsis"},[t._v(" 钱包地址 "+t._s(t.$root.userInfo.walletAddress)+" ")]),s("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.$root.userInfo.walletAddress,expression:"$root.userInfo.walletAddress"}],staticClass:"copy copyBtn",on:{success:t.$root.copySuccessful}})]),s("div",{staticClass:"credit",on:{click:function(e){return t.$router.push("/user_credit")}}},[t._v(" 信用等级 "),s("div",{staticClass:"volume"},t._l(5,(function(e){var a;return s("div",{key:e,staticClass:"grade mini",class:(a={},a["g"+t.largeLevel+((5==e?0==t.levelModel:t.levelModel>=e||0==t.levelModel)?"l":"")]=!0,a)})})),0)])])]),s("van-cell",{attrs:{title:"个人账变","is-link":"",to:"user_bill"}})],1),s("div",{staticClass:"gray-8"}),s("van-cell-group",[s("van-cell",{attrs:{title:"实名认证","is-link":""===t.$root.userInfo.auditRealNameStatus,to:t.$root.userInfo.isRealNameAuth?"":"/user_certify"}},[[t.$root.userInfo.isRealNameAuth?s("span",{staticStyle:{color:"#07ca5e"}},[t._v(" 已实名认证 ")]):0===t.$root.userInfo.auditRealNameStatus?s("span",{staticStyle:{color:"#6f5bfe"}},[t._v(" 审核中 ")]):2===t.$root.userInfo.auditRealNameStatus?s("span",{staticStyle:{color:"#fb2222"}},[t._v(" 审核不通过 ")]):t._e()]],2),s("van-cell",{attrs:{title:"登录密码","is-link":"",to:"/user_login_psw"}},[t._v(" 修改登录密码 ")]),s("van-cell",{attrs:{title:"资金密码","is-link":"",to:"/user_pay_psw"}},[t._v(" "+t._s(t.$root.userInfo.secPasswordStatus?"修改资金密码":"设置资金密码")+" ")]),s("van-cell",{attrs:{title:"登录设备管理","is-link":"",to:"/user_devices"}}),s("van-cell",{attrs:{title:"意见反馈","is-link":"",to:"/user_report"}}),s("van-cell",{attrs:{title:"异常交易行为以及平台处理措施","is-link":"",to:"/panic"}}),s("van-cell",{attrs:{title:"关于我们","is-link":"",to:"/user_us"}},[t._v(" 版本V"+t._s(t.$root.version)+" ")])],1),s("van-button",{staticClass:"primary block",on:{click:t.exit}},[t._v(" 退出登录 ")]),t.isErude?t._e():s("div",{staticClass:"debug",attrs:{id:"debug-block"},on:{click:t.onDebug}})],1)},r=[],o=s(1161),i=s(3652),l=s(1922),n={data(){const t=document.getElementById("eruda-script");return{isErude:!!t,count:0,lastPressTimestamp:0}},created(){this.$root.$emit("root:set-topbar",["left-back","customer-service"])},computed:{levelModel(){return this.$root.userInfo.creditLevel%5},largeLevel(){return this.levelModel>=1?(this.$root.userInfo.creditLevel-this.levelModel)/5+1:this.$root.userInfo.creditLevel/5}},methods:{onClickUpload(t){this.$root.isH5Plus&&(t.preventDefault(),window.h5p.uploadImage((t=>{t?this.afterRead({file:t}):this.$toast.fail("获取图片失败")}),!0))},afterRead(t){console.log(t.file),(0,o.ws)({imgFile:t.file,type:"avatar"}).then((({ok:t,data:e,msg:s})=>{t?(0,i.J3)({avatarAddr:e.name}).then((({ok:t,msg:s})=>{t?this.$root.userInfo.avatar=e.name:this.$toast.fail(s)})):this.$toast.fail(s)}))},exit(){this.$root.userInfo=null,(0,l.Ks)(void 0),this.$root.$st.remove("USER_INFO"),this.$root.$st.remove("INITIAL_USER_INFO"),this.$root.$st.remove("BASE"),this.$root.$st.remove("TOKEN"),this.$root.$router.replace("/layout_auth")},onDebug(){const t=Date.now();if(console.log(t-this.lastPressTimestamp),t-this.lastPressTimestamp>500&&this.lastPressTimestamp>0?(this.lastPressTimestamp=0,this.count=0):(this.lastPressTimestamp=t,this.count+=1),this.count>6){document.getElementById("debug-block").remove(),sessionStorage.setItem("debug",1);const t=document.createElement("script");t.setAttribute("id","eruda-script"),t.type="text/javascript",t.src="js/eruda.js",t.onload=function(){window.eruda.init()},document.body.append(t)}}}},c=n,u=s(1001),d=(0,u.Z)(c,a,r,!1,null,null,null),v=d.exports}}]);
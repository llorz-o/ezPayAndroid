"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[875],{10875:function(t,n,e){e.r(n),e.d(n,{default:function(){return b}});var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"page page-banks"},[e("div",{staticClass:"titles"},[e("div",{staticClass:"num"},[t._v(" 我的银行卡 "),e("span",{staticClass:"secondary"},[t._v(" （共"+t._s(t.bank.list.length)+"张） ")])]),e("van-button",{attrs:{icon:"plus","icon-position":"left",replace:"",to:"/add_payment/1"}},[t._v(" 添加银行卡 ")])],1),e("div",{staticClass:"collection"},t._l(t.bank.list,(function(n,r){return e("van-swipe-cell",{key:r,scopedSlots:t._u([{key:"right",fn:function(){return[e("van-button",{attrs:{square:"",text:"解绑",type:"danger"},on:{click:function(e){return t.unbind(n.id)}}})]},proxy:!0}],null,!0)},[e("div",{class:"card bg"+r},[e("van-image",{attrs:{src:t.$root.getImageUrl(n.logoImg),round:""}}),e("div",{staticClass:"bankInfo"},[e("div",{staticClass:"top"},[e("span",{staticClass:"bankName"},[t._v(" "+t._s(t.bankIdMappingName[n.bankId])+" ")]),e("span",{staticClass:"bankNum"},[t._v(" ****"+t._s(n.bankNo.slice(-4))+" ")])]),e("div",{staticClass:"bankStatus"},[t._v("可转账")])])],1)])})),1)])},a=[],s=e(16198),o=e(23796),i=e(4367),u=(e(78975),e(41539),e(13652)),c=e(35962),l={computed:{bank:function(){return this.$root.payments.bank},bankIdMappingName:function(){return this.$root.banks.reduce((function(t,n){return(0,i.Z)((0,i.Z)({},t),{},(0,o.Z)({},n.bankId,n.bankName))}),{})}},created:function(){this.$root.$emit("root:set-topbar",["left-back","notices","customer-service"])},methods:{unbind:function(t){var n=this;return(0,s.Z)(regeneratorRuntime.mark((function e(){var r,a,s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.D)(n);case 2:if(r=e.sent,r){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,(0,c.x)(n);case 7:if(a=e.sent,!a||6!==a.length){e.next=15;break}return e.next=11,(0,u.k4)({id:t,securePassword:a});case 11:s=e.sent,o=s.ok,i=s.msg,o?n.$root.loadPayments():n.$toast.fail(i);case 15:case"end":return e.stop()}}),e)})))()}}},f=l,p=e(1001),d=(0,p.Z)(f,r,a,!1,null,null,null),b=d.exports},35962:function(t,n,e){e.d(n,{D:function(){return o},x:function(){return s}});var r=e(16198),a=(e(78975),e(41539),e(13652)),s=function(t){return t.$toast("请输入资金密码"),new Promise((function(n,e){t.$root.showPassowordKeyboard=!0,t.$root.$once("root:global-password",function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",n(e));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}())}))},o=function(t){return t.$root.userInfo&&t.$root.userInfo.isGoogleAuthenticator?(t.$toast("请输入Google安全码"),new Promise((function(n,e){setTimeout((function(){t.$root.showPassowordKeyboard=!0,t.$root.$once("root:global-password",function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(r){var s,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r&&"close-by-route-change"!==r){e.next=2;break}return e.abrupt("return",n(!1));case 2:return e.next=4,(0,a.Wg)({safeCode:r});case 4:s=e.sent,o=s.ok,i=s.msg,o?n(!0):(n(!1),t.$toast.fail(i));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),0)}))):Promise.resolve(!0)}}}]);
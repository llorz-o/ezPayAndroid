"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[33],{25033:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page page-banks"},[n("div",{staticClass:"titles"},[n("div",{staticClass:"num"},[t._v(" 我的银行卡 "),n("span",{staticClass:"secondary"},[t._v(" （共"+t._s(t.bank.list.length)+"张） ")])]),n("van-button",{attrs:{icon:"plus","icon-position":"left",replace:"",to:"/add_payment/1"}},[t._v(" 添加银行卡 ")])],1),n("div",{staticClass:"collection"},t._l(t.bank.list,(function(e,r){return n("van-swipe-cell",{key:r,scopedSlots:t._u([{key:"right",fn:function(){return[n("van-button",{attrs:{square:"",text:"解绑",type:"danger"},on:{click:function(n){return t.unbind(e.id)}}})]},proxy:!0}],null,!0)},[n("div",{class:"card bg"+r},[n("van-image",{attrs:{src:t.$root.getImageUrl(e.logoImg),round:""}}),n("div",{staticClass:"bankInfo"},[n("div",{staticClass:"top"},[n("span",{staticClass:"bankName"},[t._v(" "+t._s(t.bankIdMappingName[e.bankId])+" ")]),n("span",{staticClass:"bankNum"},[t._v(" ****"+t._s(e.bankNo.slice(-4))+" ")])]),n("div",{staticClass:"bankStatus"},[t._v("可转账")])])],1)])})),1)])},a=[],s=n(16198),o=n(23796),i=n(4367),u=(n(78975),n(41539),n(13652)),c=n(35962),l={computed:{bank:function(){return this.$root.payments.bank},bankIdMappingName:function(){return this.$root.banks.reduce((function(t,e){return(0,i.Z)((0,i.Z)({},t),{},(0,o.Z)({},e.bankId,e.bankName))}),{})}},created:function(){this.$root.$emit("root:set-topbar",["left-back","notices","customer-service"])},methods:{unbind:function(t){var e=this;return(0,s.Z)(regeneratorRuntime.mark((function n(){var r,a,s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,c.D)(e);case 2:if(r=n.sent,r){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,verifySecuretedCode(e);case 7:if(a=n.sent,!a){n.next=15;break}return n.next=11,(0,u.k4)({id:t,securePassword:a});case 11:s=n.sent,o=s.ok,i=s.msg,o?e.$root.loadPayments():e.$toast.fail(i);case 15:case"end":return n.stop()}}),n)})))()}}},f=l,p=n(1001),d=(0,p.Z)(f,r,a,!1,null,null,null),b=d.exports},35962:function(t,e,n){n.d(e,{D:function(){return o},x:function(){return s}});var r=n(16198),a=(n(78975),n(41539),n(13652)),s=function(t){return t.$toast("请输入资金密码"),new Promise((function(e,n){t.$root.showPassowordKeyboard=!0,t.$root.$once("root:global-password",function(){var t=(0,r.Z)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e(n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},o=function(t){return t.$root.userInfo&&t.$root.userInfo.isGoogleAuthenticator?(t.$toast("请输入Google安全码"),new Promise((function(e,n){setTimeout((function(){t.$root.showPassowordKeyboard=!0,t.$root.$once("root:global-password",function(){var n=(0,r.Z)(regeneratorRuntime.mark((function n(r){var s,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r){n.next=2;break}return n.abrupt("return",e(!1));case 2:return n.next=4,(0,a.Wg)({safeCode:r});case 4:s=n.sent,o=s.ok,i=s.msg,o?e(!0):(e(!1),t.$toast.fail(i));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}),0)}))):Promise.resolve(!0)}}}]);
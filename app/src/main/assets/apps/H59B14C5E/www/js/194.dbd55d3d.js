"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[194],{59194:function(t,r,e){e.r(r),e.d(r,{default:function(){return c}});var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"page graybg page-home"},[e("div",{staticClass:"balanceBg"},[e("div",{staticClass:"balanceBox"},[e("div",{staticClass:"welcomeEl"},[t._v(" 欢迎 "),t.$root.userInfo.realName?e("span",{staticClass:"name"},[t._v(t._s(t.$root.userInfo.realName))]):e("span",{staticClass:"name",on:{click:function(r){return t.$router.push("/user_certify")}}},[t._v(" 请先实名 ")])]),e("div",{staticClass:"balanceEl"},[e("h3",{staticClass:"balanceLable"},[t._v("余额")]),e("div",{staticClass:"balance"},[e("span",{staticClass:"value"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.balance).toFixed(2))+" ")]),e("span",{staticClass:"unit"},[t._v(" EzB ")])])]),e("div",{staticClass:"walletAdderssEl"},[e("van-icon",{attrs:{name:"map-marked"}}),e("span",[t._v(t._s(t.$root.userInfo.walletAddress))]),e("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:t.$root.userInfo.walletAddress,expression:"$root.userInfo.walletAddress"}],staticClass:"copy copyBtn",on:{success:t.$root.copySuccessful}})],1)])]),e("div",{staticClass:"balanceDetail"},[e("van-grid",{attrs:{"column-num":3,border:!1}},[e("van-grid-item",{staticClass:"border_right_1px"},[e("div",{staticClass:"balanceEl"},[e("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.balance).toFixed(2))+" ")]),e("span",{staticClass:"unit"},[t._v(" EzB ")])]),e("div",{staticClass:"label"},[t._v("可售数量")])]),e("van-grid-item",{staticClass:"border_right_1px"},[e("div",{staticClass:"balanceEl"},[e("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.sumSellAmount).toFixed(2))+" ")]),e("span",{staticClass:"unit"},[t._v(" EzB ")])]),e("div",{staticClass:"label"},[t._v("卖单余额")])]),e("van-grid-item",{staticClass:"border_right_1px"},[e("div",{staticClass:"balanceEl"},[e("span",{staticClass:"balance"},[t._v(" "+t._s(parseFloat(t.$root.userInfo.sumFrozenAmount).toFixed(2))+" ")]),e("span",{staticClass:"unit"},[t._v(" EzB ")])]),e("div",{staticClass:"label"},[t._v("交易中")])])],1),e("div",{staticClass:"btnsBox"},[e("van-button",{attrs:{color:"#F0535F",to:"/sale"}},[t._v("卖币")]),e("van-button",{attrs:{color:"#6F59FE",to:"/transaction",replace:""}},[t._v("买币")])],1)],1),e("div",{staticClass:"hangOrder border_top_1px"},[e("div",{staticClass:"title"},[e("span",[t._v("我的挂单")]),e("span",{on:{click:function(r){return t.$router.push("/my_hang_orders")}}},[t._v("更多")])]),t._l(t.hangOrders,(function(t,r){return e("HangOrderItem",{key:r,attrs:{dt:t}})}))],2),e("div",{staticClass:"tansactionOrder border_top_1px"},[e("div",{staticClass:"title"},[e("span",[t._v("交易记录")]),e("span",{on:{click:function(r){return t.$router.replace("/orders")}}},[t._v("更多")])]),t._l(t.orders,(function(t,r){return e("TransactionItem",{key:r,attrs:{dt:t}})}))],2)])},n=[],s=e(21380),i=e(48145),o={components:{HangOrderItem:i.K,TransactionItem:i.A},data:function(){return{hangOrders:[],orders:[]}},created:function(){this.$root.updateUnReadCount(),this.loadHangOrders(),this.loadOrders(),this.$root.$emit("root:set-topbar",["user-center","help","notices","customer-service"]),this.$root.$emit("root:set-layout",{bottom:!0})},methods:{loadHangOrders:function(){var t=this;(0,s.$Z)({page:1,pageSize:3}).then((function(r){var e=r.ok,a=r.msg,n=r.data;e?t.hangOrders=n.list:t.$toast.fail(a)}))},loadOrders:function(){var t=this;(0,s.uF)({page:1,pageSize:3}).then((function(r){var e=r.ok,a=r.msg,n=r.data;e?t.orders=n.list:t.$toast.fail(a)}))}}},u=o,d=e(1001),l=(0,d.Z)(u,a,n,!1,null,null,null),c=l.exports},21380:function(t,r,e){e.d(r,{$Z:function(){return u},$i:function(){return o},CI:function(){return v},Ej:function(){return h},Hn:function(){return l},N8:function(){return _},R9:function(){return y},T7:function(){return T},XW:function(){return O},_H:function(){return n},_d:function(){return C},an:function(){return m},cf:function(){return p},dF:function(){return c},fW:function(){return d},l$:function(){return g},uF:function(){return s},v1:function(){return i},vi:function(){return f},y6:function(){return b}});var a=e(51922),n=function(t){return(0,a.q)({url:"/Api/Market/PendingOrder/marketPendingOrderList",method:"POST",data:t})},s=function(t){return(0,a.q)({url:"/Api/Market/Order/myOrderList",method:"GET",data:t})},i=function(t){return(0,a.q)({url:"/Api/Market/Sell/index",method:"POST",data:t})},o=function(t){return(0,a.q)({url:"/Api/Market/Sell/recycle",method:"POST",data:t})},u=function(t){return(0,a.q)({url:"Api/Market/PendingOrder/myPendingOrderList",method:"POST",data:t})},d=function(t){return(0,a.q)({url:"/Api/Market/Order/myOrderDetail",method:"GET",data:t})},l=function(t){return(0,a.q)({url:"/Api/Market/PendingOrder/marketPendingOrderDetail",method:"POST",data:t})},c=function(t){return(0,a.q)({url:"/Api/Market/Order/getCurrentOrderStatus",method:"GET",data:t})},p=function(t){return(0,a.q)({url:"/Api/Market/PendingOrder/myPendingOrderDetail",method:"GET",data:t})},m=function(t){return(0,a.q)({url:"/Api/Market/Order/buyerCreatesOrder",method:"POST",data:t})},f=function(t){return(0,a.q)({url:"/Api/Market/PendingOrder/getOrderListByPendingOrder",method:"GET",data:t})},v=function(t){return(0,a.q)({url:"/Api/Market/Order/sellerRefusesToCreateOrder",method:"POST",data:t})},_=function(t){return(0,a.q)({url:"/Api/Market/Order/sellerConfirmsToCreateOrder",method:"POST",data:t})},h=function(t){return(0,a.q)({url:"/Api/Market/Order/sellerHasNotReceivedPayment",method:"POST",data:t})},O=function(t){return(0,a.q)({url:"/Api/Market/Order/sellerCompletesOrder",method:"POST",data:t})},C=function(t){return(0,a.q)({url:"/Api/Market/Order/buyerCancelsOrder",method:"POST",data:t})},g=function(t){return(0,a.q)({url:"/Api/Market/Order/buyerConfirmsOrderHasBeenPaid",method:"POST",data:t})},y=function(t){return(0,a.q)({url:"/Api/Market/Order/buyerAppeals",method:"POST",data:t})},b=function(t){return(0,a.q)({url:"/Api/Market/Order/getCancelsOrderDailyCount",method:"GET",data:t})},T=function(t){return(0,a.q)({url:"/Api/User/TransferOrder/userDeposit",method:"POST",data:t})}},48145:function(t,r,e){e.d(r,{K:function(){return d},A:function(){return v}});var a=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"hang-order",on:{click:function(r){return t.$router.push("/my_hang_order/"+t.dt.pendingOrderId)}}},[e("div",{staticClass:"time"},[t._v(" 挂单时间 "+t._s(t._f("dateFormat")(t.dt.createTime,"M/D h:m:s"))+" ")]),e("div",{staticClass:"content"},[e("span",{staticClass:"payment-method"},t._l(t.payments,(function(t,r){return e("div",{key:r,staticClass:"item",class:"pay"+t})})),0),e("span",{staticClass:"order-type"},[t._v(t._s(t.dt.isSplit?"可拆分":"不可拆分"))]),e("span",{staticClass:"amount"},[t._v(" "+t._s(t._f("amountFormat")(t.dt.validAmount,{places:0}))+" EzB ")]),e("span",{staticClass:"order-status",class:t.stateClass},[t._v(" "+t._s(t.stateStr)+" ")]),e("van-icon",{attrs:{name:"arrow"}})],1)])},n=[],s={name:"hangOrderItem",props:{dt:{type:Object,default:function(){return{createTime:(new Date).toLocaleDateString(),paymentType:7,isSplit:0,amount:"13076598",status:1,underwayOrder:1}}}},computed:{stateClass:function(){return this.dt.underwayOrder>0?"underway":1===this.dt.status?"hanging":0===this.dt.status?"closed":void 0},stateStr:function(){return this.dt.underwayOrder>0?"已发起交易":1===this.dt.status?"挂单中...":0===this.dt.status?this.dt.amount==this.dt.soldAmount?"已售罄":"取消挂单":void 0},payments:function(){return this.$root.parsePayments(this.dt.paymentType)}},methods:{}},i=s,o=e(1001),u=(0,o.Z)(i,a,n,!1,null,"70a0eff3",null),d=u.exports,l=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"transaction",on:{click:function(r){return t.$router.push("/"+(t.isSale?"transaction_sale":"transaction_buy")+"/"+t.dt.orderId)}}},[e("span",{staticClass:"inout bg",class:t.isSale?"out":"in"},[t._v(" "+t._s(t.isSale?"卖":"买")+" ")]),e("span",{staticClass:"time"},[t._v(" "+t._s(t.ymd)+" "),e("br"),t._v(" "+t._s(t.hms)+" ")]),e("span",{staticClass:"amountEl"},[e("span",{staticClass:"amount",class:t.isSale?"out":"in"},[t._v(" "+t._s(t._f("amountFormat")(t.dt.amount))+" ")]),e("span",{staticClass:"unit"},[t._v(" EzB ")])]),e("span",{staticClass:"order-status",class:t._f("transactingOrderStatus")(t.dt.status)},[t._v(" "+t._s(t._f("transactingOrderStatus")(t.dt.status,"seller-content"))+" ")])])},c=[],p=(e(47042),{name:"TransactionItem",props:{dt:{type:Object,default:function(){return{orderType:1,time:(new Date).toLocaleDateString(),amount:"0",orderStatus:"WaitingSellerConfirm"}}}},computed:{orderTime:function(){return this.$options.filters.dateFormat(this.dt.createTime,"Y/M/D h:m:s")},ymd:function(){return this.orderTime.slice(0,10)},hms:function(){return this.orderTime.slice(11)},isSale:function(){return this.dt.sellerId==this.$root.userInfo.userId&&"Member"===this.dt.sellerType}}}),m=p,f=(0,o.Z)(m,l,c,!1,null,"37723cba",null),v=f.exports}}]);
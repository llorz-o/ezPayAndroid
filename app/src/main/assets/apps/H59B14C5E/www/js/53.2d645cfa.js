"use strict";(self["webpackChunkez_pay"]=self["webpackChunkez_pay"]||[]).push([[53],{22601:function(t,n,a){a.r(n),a.d(n,{default:function(){return b}});var s=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"page page-banks"},[a("div",{staticClass:"titles"},[a("div",{staticClass:"num"},[t._v(" 我的银行卡 "),a("span",{staticClass:"secondary"},[t._v(" （共"+t._s(t.bank.list.length)+"张） ")])]),a("van-button",{attrs:{icon:"plus","icon-position":"left",to:"/add_payment/1",replace:""}},[t._v(" 添加银行卡 ")])],1),a("div",{staticClass:"collection"},t._l(t.bank.list,(function(n,s){return a("van-swipe-cell",{key:s,scopedSlots:t._u([{key:"right",fn:function(){return[a("van-button",{attrs:{square:"",type:"danger",text:"解绑"},on:{click:function(a){return t.unbind(n.id)}}})]},proxy:!0}],null,!0)},[a("div",{class:"card bg"+s},[a("van-image",{attrs:{round:"",src:t.$root.getImageUrl(n.logoImg)}}),a("div",{staticClass:"bankInfo"},[a("div",{staticClass:"top"},[a("span",{staticClass:"bankName"},[t._v(" "+t._s(t.bankIdMappingName[n.bankId])+" ")]),a("span",{staticClass:"bankNum"},[t._v(" ****"+t._s(n.bankNo.slice(-4))+" ")])]),a("div",{staticClass:"bankStatus"},[t._v("可转账")])])],1)])})),1)])},e=[],r=a(16198),o=a(23796),i=a(4367),c=(a(78975),a(41539),a(13652)),u={computed:{bank:function(){return this.$root.payments.bank},bankIdMappingName:function(){return this.$root.banks.reduce((function(t,n){return(0,i.Z)((0,i.Z)({},t),{},(0,o.Z)({},n.bankId,n.bankName))}),{})}},created:function(){this.$root.$emit("root:set-topbar",["left-back","notices","customer-service"])},methods:{unbind:function(t){var n=this;this.$root.showPassowordKeyboard=!0,this.$root.$once("root:global-password",function(){var a=(0,r.Z)(regeneratorRuntime.mark((function a(s){var e,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!s){a.next=7;break}return a.next=3,(0,c.k4)({id:t,securePassword:s});case 3:e=a.sent,r=e.ok,o=e.msg,r?n.$root.loadPayments():n.$toast.fail(o);case 7:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}())}}},l=u,d=a(1001),p=(0,d.Z)(l,s,e,!1,null,null,null),b=p.exports}}]);